(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],p=0,d=[];p<i.length;p++)r=i[p],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("62c3"),s=n.n(o),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.company?n("div",{staticClass:"card text-center"},[n("div",{staticClass:"card-body"},[t.company.logo?n("img",{staticClass:"img-fluid",attrs:{alt:t.company.name,src:t.company.logo,title:t.company.name}}):t._e(),t.company.logo?t._e():n("h2",[t._v(t._s(t.company.name))]),n("router-view")],1)]):t._e()},i=[],c={beforeMount:function(){this.getCompany()},computed:{company:function(){return this.$store.getters.company}},methods:{getCompany:function(){var t=this;this.slug&&this.$http.get("/api/company/".concat(this.slug,"/")).then((function(e){t.$store.dispatch("setCompany",e.data)}))}},props:{slug:{required:!0,type:String}}},l=c,u=n("2877"),p=Object(u["a"])(l,r,i,!1,null,null,null),d=p.exports,m=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 mb-3"},[n("p",{staticClass:"lead"},[t._v(t._s(t.company.widget_welcome_text))])]),n("div",{staticClass:"col-6"},[n("router-link",{staticClass:"btn btn-success btn-lg",attrs:{to:{name:"vote_good"},title:"Good",type:"button"}},[n("i",{staticClass:"fas fa-thumbs-up"}),n("span",{staticClass:"sr-only"},[t._v("Good")])])],1),n("div",{staticClass:"col-6"},[n("router-link",{staticClass:"btn btn-danger btn-lg",attrs:{to:{name:"vote_bad"},title:"Bad",type:"button"}},[n("i",{staticClass:"fas fa-thumbs-down"}),n("span",{staticClass:"sr-only"},[t._v("Bad")])])],1)])},v=[],y={computed:{company:function(){return this.$store.getters.company}}},_=y,b=Object(u["a"])(_,f,v,!1,null,null,null),g=b.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v(t._s(t.company.widget_positive_text))]),t._l(t.sortedLinkSet,(function(e,a){return n("a",{key:a,staticClass:"align-items-center border d-flex justify-content-between mb-2 p-3 rounded",attrs:{href:e.url,target:"_blank"}},[e.icon?n("img",{staticClass:"img-fluid w-25",attrs:{src:e.icon}}):t._e(),n("span",{staticClass:"flex-fill text-center"},[t._v(t._s(e.name))])])}))],2)},C=[],w={computed:{company:function(){return this.$store.getters.company},sortedLinkSet:function(){var t=this.$store.getters.company;return t?t.link_set.sort((function(t,e){return t.order-e.order})):[]}}},x=w,k=Object(u["a"])(x,h,C,!1,null,null,null),$=k.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.sendFeedback(e)}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"id_details"}},[t._v(t._s(t.company.widget_negative_text))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detail,expression:"detail"}],staticClass:"form-control",class:{"is-invalid":t.errors.detail},attrs:{id:"id_details",name:"details",rows:"5"},domProps:{value:t.detail},on:{input:function(e){e.target.composing||(t.detail=e.target.value)}}}),t.errors.detail?n("div",{staticClass:"invalid-feedback"},t._l(t.errors.detail,(function(e,a){return n("span",{key:a,staticClass:"d-block"},[t._v(t._s(e))])})),0):t._e()]),t._m(0)]),n("div",{staticClass:"d-block"},[n("router-link",{staticClass:"btn btn-link btn-sm",attrs:{to:{name:"index"},title:"Cancel",type:"button"}},[t._v(" Cancel ")])],1)])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Send feedback")])])}],S={computed:{company:function(){return this.$store.getters.company}},data:function(){return{detail:"",errors:{},loading:!1}},methods:{sendFeedback:function(){var t=this;this.errors={},this.loading=!0;var e={detail:this.detail};this.$http.post("/api/company/".concat(this.company.slug,"/feedback/"),e).then((function(){t.detail="",t.loading=!1,t.$router.push({name:"vote_send"})})).catch((function(e){t.errors=e.response.data,t.loading=!1}))}}},P=S,E=Object(u["a"])(P,O,j,!1,null,null,null),M=E.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"py-5"},[n("h3",[t._v(t._s(t.company.widget_submitted_title))]),n("p",[t._v(t._s(t.company.widget_submitted_text))])])},B=[],F={computed:{company:function(){return this.$store.getters.company}}},G=F,J=Object(u["a"])(G,T,B,!1,null,null,null),L=J.exports;a["a"].use(m["a"]);var q=[{path:"",component:g,name:"index"},{path:"/vote-good",component:$,name:"vote_good"},{path:"/vote-bad",component:M,name:"vote_bad"},{path:"/vote-send",component:L,name:"vote_send"}],D=new m["a"]({base:window.location.pathname,mode:"hash",routes:q}),I=D,N=n("2f62");a["a"].use(N["a"]);var z=new N["a"].Store({state:{company:null},mutations:{setCompany:function(t,e){t.company=e}},actions:{setCompany:function(t,e){var n=t.commit;n("setCompany",e)}},getters:{company:function(t){return t.company}}}),A=z;a["a"].config.productionTip=!1,a["a"].prototype.$http=s.a,new a["a"]({beforeMount:function(){this.companySlug=this.$el.dataset.slug},data:function(){return{companySlug:null,messageId:null}},render:function(t){return t(d,{props:{slug:this.companySlug}})},router:I,store:A}).$mount("#taypa-widget")}});
//# sourceMappingURL=app.js.map